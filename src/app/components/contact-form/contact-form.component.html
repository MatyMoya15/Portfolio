<div class="form-contact" id="contact">
    <div class="contact-container">
        <h2>Contact <i class="fa-solid fa-paper-plane" style="font-size: 1.8rem; margin-left: 5px;"></i></h2>
        <h3>Let's <span>connect!</span></h3>
        <p>
            Go ahead and contact me through my email <br>
            <a class="mail" href="mailto:matymoyano4@gmail.com">matymoyano4&#64;gmail.com</a>
            <button type="button" class="copy-btn" (click)="copyToClipboard()">
                <i [ngClass]="{'fa-regular fa-clone': !copied, 'fa-solid fa-check': copied}"
                    style="margin-right: 7px;"></i>{{ copied ? 'Copied' : 'Copy' }}
            </button>
        </p>

        <p>Or do it using this form</p>
        <form [formGroup]="contactForm" (ngSubmit)="onSubmit()">
            <div class="form-group">
                <label for="name">
                    <i class="fas fa-user"></i>
                    Name
                </label>
                <input type="text" id="name" formControlName="name" />
                <div *ngIf="contactForm.get('name')?.touched && contactForm.get('name')?.invalid" class="error-message">
                    Name is required.
                </div>
            </div>
            <div class="form-group">
                <label for="email">
                    <i class="fas fa-at"></i>
                    Email
                </label>
                <input type="email" id="email" formControlName="email" />
                <div *ngIf="contactForm.get('email')?.touched && contactForm.get('email')?.invalid"
                    class="error-message">
                    <div *ngIf="contactForm.get('email')?.errors?.['required']">Email is required.</div>
                    <div *ngIf="contactForm.get('email')?.errors?.['emailInvalid']">Please enter a valid email address</div>
                </div>
            </div>
            <div class="form-group">
                <label for="message">
                    <i class="fas fa-comment"></i>
                    Message
                </label>
                <textarea id="message" formControlName="message"></textarea>
                <div *ngIf="contactForm.get('message')?.touched && contactForm.get('message')?.invalid"
                    class="error-message">
                    Message is required.
                </div>
            </div>
            <button class="send" type="submit">Send</button>
        </form>

        <!-- Alertas de Bootstrap -->
        <div *ngIf="showSuccessAlert" class="alert alert-success alert-dismissible fade show" role="alert">
            <strong class="success">Success!</strong> Message sent successfully.
            <button type="button" class="close x-success" (click)="showSuccessAlert = false" aria-label="Close">
                <span class="x-success" aria-hidden="true">&times;</span>
            </button>
        </div>

        <div *ngIf="showErrorAlert" class="alert alert-danger alert-dismissible fade show" role="alert">
            <strong class="error">Error!</strong> Failed to send message, please try again.
            <button type="button" class="close x-error" (click)="showErrorAlert = false" aria-label="Close">
                <span class="x-error" aria-hidden="true">&times;</span>
            </button>
        </div>
    </div>
</div>